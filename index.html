<!DOCTYPE html>
<html>
<head>
	<title> COE AI</title>
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">  

</head>
<body>
	<header>
		
		<div class="main">
		<div class="logo">

			<img src="logo.jpg">
		</div>
		
		 <!-- <ul>
		 <li class="active"><a href="#"><i class="fa fa-home"></i>Home</a></li>
		 <li><a href="#">About</a></li>
		 <li><a href="#">Dessert</a></li>
		 <li><a href="#">Appetizers</a></li>
		 <li><a href="#">Pasta</a></li>
		 <li><a href="#">Salad</a></li>
		 <li><a href="#">Burger</a></li>
		 <li><a href="#">Pizza</a></li>
		 <li><a href="#"><i class="fa fa-caret-down"></i> More Recipes <i class="fa fa-caret-down"></i></a>
		 	<div class="sub-menu">
		 		<ul>	 
		 		 <li><a href="#">Cookies</a></li>
		 		 <li><a href="#">Sandwich</a></li>
		 	 </ul>
		 	</div>
		 </li>
		</ul> -->

		 </div>
		 <div class="title">
		 	<h1>AI-Driven Research <br> Review Platform</h1>
		 </div>
		 <div class="button">
		 	<a href="https://www.youtube.com/watch?v=rJJPS-EvNfk" class="btn">WATCH VIDEO</a>
		 	<a href="https://www.youtube.com/playlist?list=PLuD7pwCp4AA4gLBaWeU7ymZVHGWMLAeDO" class="btn">BASIC SKILLS</a>
		 	<a href="https://www.youtube.com/playlist?list=PLTPXxbhUt-YWjMCDahwdVye8HW69p5NYS" class="btn">LEARN MORE</a>
		 </div>
		 <script async src="https://cse.google.com/cse.js?cx=c57cd31c36a8f42b1"></script>


	</header>


	<section class="features">
		<div class="features-content">
			<h1>Search for Research Papers</h1>
			<h2>Ask a research question and get back a list of relevant papers from our database of 125 million.</h2>
			<ul class="feature-list">
				<li><i class="fa fa-check-circle"></i> Get one-sentence abstract summaries.</li>
				<li><i class="fa fa-check-circle"></i> Select relevant papers and search for more like them.</li>
				<li><i class="fa fa-check-circle"></i> Extract details from papers into an organized table.</li>
			</ul>
		</div>
		<div class="features-image">
			<img src="images/buss.jpg" alt="Research Image" />
		</div>
	</section>

	<section style="display: flex; height: 100vh;">
		<!-- Left column for search results and content display -->
		<div id="searchResults" style="flex: 1; padding: 20px; border-right: 1px solid #ddd;">
			<h2>
				<img src="images/search-icon.png" alt="Search Icon" class="heading-icon" />
				Search Papers According to Your Field
			</h2>
			<p><strong><i class="fa fa-info-circle"></i> Tip:</strong> Open links in a new tab by right-clicking.</p>
			
			<!-- Search Box -->
			<div class="gcse-search"></div>
			
			<!-- Results -->
			<div class="gcse-searchresults"></div>
		</div>

		<!-- Right column to display the clicked paper preview -->
		<div id="linkDetails" style="flex: 1; padding: 20px;">
			<h1>Preview of the Paper</h1>
			<h3 id="selectedLinkTitle">Selected Paper Title</h3>
			<p id="selectedLinkDescription">The abstract of the paper will appear here when you click a result.</p>
			<p><strong>URL:</strong> <a id="selectedLinkUrl" href="#" target="_blank">Read Full Paper</a></p>
		</div>
		
	</section>

	<!-- New Section for PDF Uploads -->
	<section class="pdf-upload-section" style="display: flex; padding: 20px;">
		<div class="pdf-upload-container">
			<h2>Upload PDFs</h2>
			<input type="file" id="pdfInput" accept=".pdf" multiple style="display:none;" onchange="handleFileUpload()">
			<button id="uploadBtn" style="margin-bottom: 10px;" onclick="document.getElementById('pdfInput').click();">Upload PDFs</button>
			<div class="uploaded-pdfs">
				<div id="pdfDisplay" class="pdf-display"></div>
			</div>
			<button id="submitBtn" style="margin-top: 10px;">Submit PDFs</button>
		</div>
		<div class="pdf-upload-empty-space" style="flex: 1;"></div>
	</section>

	<script>
		// Function to handle file upload
		let uploadedFiles = [];

		function handleFileUpload() {
			const fileInput = document.getElementById('pdfInput');
			const fileList = fileInput.files;
			const pdfDisplay = document.getElementById('pdfDisplay');

			// Append new files to the uploadedFiles array
			for (let i = 0; i < fileList.length; i++) {
				uploadedFiles.push(fileList[i]);
			}

			// Clear and then update the display
			pdfDisplay.innerHTML = ''; // Clear the current display

			uploadedFiles.forEach(file => {
				const block = document.createElement('div');
				block.classList.add('pdf-block');

				const img = document.createElement('img');
				img.src = 'https://upload.wikimedia.org/wikipedia/commons/8/87/PDF_file_icon.svg'; // PDF icon
				img.classList.add('pdf-icon');

				const fileName = document.createElement('span');
				fileName.textContent = file.name;

				block.appendChild(img);
				block.appendChild(fileName);

				pdfDisplay.appendChild(block);
			});
		}
	</script>

	<!-- scrap data -->

	

	<!-- Preview Button -->

	<script>

		// Function to add a "Preview" button to each search result
		function addPreviewButtons() {
			const results = document.querySelectorAll('.gsc-webResult');
			results.forEach(result => {
				if (!result.querySelector('.preview-button')) {
					const previewButton = document.createElement('button');
					previewButton.innerText = "Preview";
					previewButton.classList.add('preview-button');
					
					// Extract title, URL, and description
					const title = result.querySelector('.gs-title a').innerText;
					const url = result.querySelector('.gs-title a').href;
					const description = result.querySelector('.gs-snippet').innerText;

					// Add click event to update the preview section
					previewButton.onclick = () => {
						document.getElementById('selectedLinkTitle').innerText = title; // Update the title
						document.getElementById('selectedLinkDescription').innerText = description; // Update the description
						document.getElementById('selectedLinkUrl').innerText = url; // Update the displayed URL text
						document.getElementById('selectedLinkUrl').href = url; // Set the URL as the href for the link
					};

					// Append the button to the result
					result.appendChild(previewButton);
				}
			});
		}

		function scrapeData() {
			// Get the current URL from the preview section
			const url = document.getElementById('selectedLinkUrl').href;

			// Fetch the HTML content of the URL
			fetch(url)
				.then(response => response.text())
				.then(html => {
					// Parse the HTML content to extract data
					const parser = new DOMParser();
					const doc = parser.parseFromString(html, 'text/html');

					// Try to retrieve the paper title, authors, and abstract
					const title = doc.querySelector('h1, meta[name="citation_title"]')?.content || "Title not found";
					const authorsMeta = doc.querySelectorAll('meta[name="citation_author"]');
					const abstract = doc.querySelector('meta[name="description"], .abstract')?.content || "Abstract not available";

					// If authors metadata tags are found, extract their content into an array
					let authors = [];
					authorsMeta.forEach(author => authors.push(author.content));

					// Update the preview section with the scraped data
					document.getElementById('selectedLinkTitle').innerText = title;
					document.getElementById('selectedLinkAuthors').innerText = authors.length ? authors.join(', ') : "Authors not found";
					document.getElementById('selectedLinkDescription').innerText = abstract;
				})
				.catch(error => {
					console.error('Error fetching data:', error);
					document.getElementById('selectedLinkDescription').innerText = "Error retrieving data.";
				});
		}


		// Continuously check for new results
		function monitorResults() {
			addPreviewButtons(); // Add the preview buttons to search results
			setTimeout(monitorResults, 1000); // Check every second for new results
		}

		// Start monitoring after the search results have loaded
		setTimeout(monitorResults, 2000);


	</script>


		 

		<!-- footer -->
		<footer>
			<p>&copy; 2024 Literature Review Tool | All Rights Reserved</p>
		</footer>
		


</body>
</html>